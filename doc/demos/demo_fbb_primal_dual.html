 
<!DOCTYPE html>
<html lang="en">
<head class="include" file="../../include/header.html">
<link rel="stylesheet" href="../../include/html4css1.css" type="text/css">
<link rel="stylesheet" href="../../include/unlocbox.css" type="text/css">
<link rel="stylesheet" href="../../include/color_text.css" type="text/css">
<title>UNLocBoX - Matlab Convex optimization toolbox</title>
<META NAME="keywords" CONTENT="UNLocX, UNLocBoX, convex, optimization, problem, sparsity, forward, backward, admm, sdmm, douglas, rachford, proximal, operator, splitting, method, matlab, toolbox, LTS2"/> 
</head>
<body>
<div id="container">
    <div id="header">
        <div class="masthead include" file="../../include/topofpage.html"></div>
    </div>
    <div id="navigation">
        <div class="masthead include" file="../../include/menu.html"></div>
    </div>
     <div id="content">
        <table width=100% >
            <tr valign=top>
            <td>
                <div id="main_content">

                    <h1 class="title">DEMO_FBB_PRIMAL_DUAL - Example of use of the forward backward based primal dual solver</h1>

<div class="section" id="xxxdescription">
<h2>Description</h2>
<p>We present an example of the the forward backward based primal dual
solver through an image de-noising, in-painting problem. We express the
problem in the following way</p>
<!-- argmin ||A(x-b)||^2 + lambda*||x||_TV + tau*||Wx||_1 -->
<div class="math">
\begin{equation*}
arg \min_x \|A(x-b)\|^2 + \lambda \|x\|_{TV} + \tau \| W x \|_1
\end{equation*}
</div>
<p>Where <span class="math">\(b\)</span> is the degraded image, <span class="math">\(W\)</span> the wavelet transform and <span class="math">\(A\)</span> a
linear operator performing the masking operation. This operator set to
<span class="math">\(0\)</span> all unknown pixels.</p>
</div>
<div class="section" id="results">
<h2>Results</h2>
<div class="figure align-center">
<img alt="demo_fbb_primal_dual_1.png" src="demo_fbb_primal_dual_1.png" />
<p class="caption">Results</p>
</div>
<p><em>This code produces the following output</em>:</p>
<pre class="literal-block">
UnLocBoX version 1.7.3. Copyright 2012-2015 LTS2-EPFL, by Nathanael Perraudin
LTFAT version 2.2.0. Copyright 2005-2016 Peter L. SÃ¸ndergaard. For help, please type &quot;ltfathelp&quot;. LTFAT is using the MEX backend.
(Your global and persistent variables have just been cleared. Sorry.)
Algorithm selected: FB_BASED_PRIMAL_DUAL
Iter 001:     Prox_TV: obj = 1.115932e+03, rel_obj = 6.469922e-04, TOL_EPS, iter = 7
  prox_L1: ||A x-y||_1 = 1.996174e+03, REL_OB, iter = 2
  f(x^*) = 1.505858e+04, rel_eval = 6.217622e-01
   Relative norm of the primal variables: 1.263286e+00
   Relative norm of the dual variables: 4.475820e+00
Iter 002:     Prox_TV: obj = 1.914587e+03, rel_obj = 6.480060e-04, TOL_EPS, iter = 5
  prox_L1: ||A x-y||_1 = 4.463814e+03, REL_OB, iter = 2
  f(x^*) = 4.246519e+03, rel_eval = 2.546100e+00
   Relative norm of the primal variables: 5.010367e-01
   Relative norm of the dual variables: 2.956117e-01
Iter 003:     Prox_TV: obj = 1.488888e+03, rel_obj = 6.548555e-04, TOL_EPS, iter = 6
  prox_L1: ||A x-y||_1 = 1.965822e+03, REL_OB, iter = 2
  f(x^*) = 3.524208e+03, rel_eval = 2.049568e-01
   Relative norm of the primal variables: 1.395628e-01
   Relative norm of the dual variables: 2.421442e-01
Iter 004:     Prox_TV: obj = 1.181651e+03, rel_obj = 9.956144e-04, TOL_EPS, iter = 6
  prox_L1: ||A x-y||_1 = 1.574843e+03, REL_OB, iter = 2
  f(x^*) = 2.934974e+03, rel_eval = 2.007631e-01
   Relative norm of the primal variables: 1.163738e-01
   Relative norm of the dual variables: 1.967064e-01
Iter 005:     Prox_TV: obj = 9.336152e+02, rel_obj = 9.608992e-04, TOL_EPS, iter = 7
  prox_L1: ||A x-y||_1 = 1.316102e+03, REL_OB, iter = 2
  f(x^*) = 2.497273e+03, rel_eval = 1.752716e-01
   Relative norm of the primal variables: 9.574359e-02
   Relative norm of the dual variables: 1.918902e-01
Iter 006:     Prox_TV: obj = 7.536560e+02, rel_obj = 9.429951e-04, TOL_EPS, iter = 8
  prox_L1: ||A x-y||_1 = 1.148959e+03, REL_OB, iter = 2
  f(x^*) = 2.179270e+03, rel_eval = 1.459219e-01
   Relative norm of the primal variables: 7.779968e-02
   Relative norm of the dual variables: 1.778591e-01
Iter 007:     Prox_TV: obj = 6.269063e+02, rel_obj = 9.074547e-04, TOL_EPS, iter = 9
  prox_L1: ||A x-y||_1 = 1.048734e+03, REL_OB, iter = 2
  f(x^*) = 1.965563e+03, rel_eval = 1.087253e-01
   Relative norm of the primal variables: 6.194827e-02
   Relative norm of the dual variables: 1.628216e-01
Iter 008:     Prox_TV: obj = 5.439421e+02, rel_obj = 8.529394e-04, TOL_EPS, iter = 10
  prox_L1: ||A x-y||_1 = 9.966166e+02, REL_OB, iter = 2
  f(x^*) = 1.832568e+03, rel_eval = 7.257320e-02
   Relative norm of the primal variables: 4.812774e-02
   Relative norm of the dual variables: 1.459730e-01
Iter 009:     Prox_TV: obj = 4.934983e+02, rel_obj = 7.496222e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.751185e+02, REL_OB, iter = 2
  f(x^*) = 1.758400e+03, rel_eval = 4.217913e-02
   Relative norm of the primal variables: 3.616927e-02
   Relative norm of the dual variables: 1.267942e-01
Iter 010:     Prox_TV: obj = 4.656764e+02, rel_obj = 8.390148e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.702894e+02, REL_OB, iter = 2
  f(x^*) = 1.723163e+03, rel_eval = 2.044894e-02
   Relative norm of the primal variables: 2.608019e-02
   Relative norm of the dual variables: 1.070289e-01
Iter 011:     Prox_TV: obj = 4.513575e+02, rel_obj = 8.777459e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.724753e+02, REL_OB, iter = 2
  f(x^*) = 1.709945e+03, rel_eval = 7.729898e-03
   Relative norm of the primal variables: 1.795518e-02
   Relative norm of the dual variables: 8.753016e-02
Iter 012:     Prox_TV: obj = 4.442671e+02, rel_obj = 9.274264e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.766543e+02, REL_OB, iter = 2
  f(x^*) = 1.707284e+03, rel_eval = 1.558836e-03
   Relative norm of the primal variables: 1.174734e-02
   Relative norm of the dual variables: 6.923985e-02
Iter 013:     Prox_TV: obj = 4.406242e+02, rel_obj = 9.252145e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.801508e+02, REL_OB, iter = 2
  f(x^*) = 1.708695e+03, rel_eval = 8.256839e-04
   Relative norm of the primal variables: 7.499477e-03
   Relative norm of the dual variables: 5.487003e-02
Iter 014:     Prox_TV: obj = 4.384092e+02, rel_obj = 9.228953e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.825263e+02, REL_OB, iter = 2
  f(x^*) = 1.711082e+03, rel_eval = 1.395139e-03
   Relative norm of the primal variables: 4.837562e-03
   Relative norm of the dual variables: 4.375120e-02
Iter 015:     Prox_TV: obj = 4.368761e+02, rel_obj = 9.253236e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.840746e+02, REL_OB, iter = 2
  f(x^*) = 1.713427e+03, rel_eval = 1.368589e-03
   Relative norm of the primal variables: 3.260221e-03
   Relative norm of the dual variables: 3.530505e-02
Iter 016:     Prox_TV: obj = 4.357504e+02, rel_obj = 9.402209e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.850921e+02, REL_OB, iter = 2
  f(x^*) = 1.715416e+03, rel_eval = 1.159330e-03
   Relative norm of the primal variables: 2.334760e-03
   Relative norm of the dual variables: 2.895446e-02
Iter 017:     Prox_TV: obj = 4.349311e+02, rel_obj = 9.554309e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.857017e+02, REL_OB, iter = 2
  f(x^*) = 1.717037e+03, rel_eval = 9.439339e-04
   Relative norm of the primal variables: 1.763554e-03
   Relative norm of the dual variables: 2.431674e-02
Iter 018:     Prox_TV: obj = 4.343311e+02, rel_obj = 9.758599e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.861060e+02, REL_OB, iter = 2
  f(x^*) = 1.718379e+03, rel_eval = 7.811910e-04
   Relative norm of the primal variables: 1.399239e-03
   Relative norm of the dual variables: 2.072741e-02
Iter 019:     Prox_TV: obj = 4.338984e+02, rel_obj = 9.979996e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.863588e+02, REL_OB, iter = 2
  f(x^*) = 1.719481e+03, rel_eval = 6.411011e-04
   Relative norm of the primal variables: 1.141812e-03
   Relative norm of the dual variables: 1.796491e-02
Iter 020:     Prox_TV: obj = 4.333158e+02, rel_obj = 6.473530e-04, TOL_EPS, iter = 12
  prox_L1: ||A x-y||_1 = 9.863509e+02, REL_OB, iter = 2
  f(x^*) = 1.719959e+03, rel_eval = 2.775191e-04
   Relative norm of the primal variables: 1.605284e-03
   Relative norm of the dual variables: 1.903606e-02
Iter 021:     Prox_TV: obj = 4.332669e+02, rel_obj = 9.671606e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.867183e+02, REL_OB, iter = 2
  f(x^*) = 1.721292e+03, rel_eval = 7.745706e-04
   Relative norm of the primal variables: 1.596436e-03
   Relative norm of the dual variables: 1.713411e-02
Iter 022:     Prox_TV: obj = 4.329644e+02, rel_obj = 6.574226e-04, TOL_EPS, iter = 12
  prox_L1: ||A x-y||_1 = 9.866639e+02, REL_OB, iter = 2
  f(x^*) = 1.721363e+03, rel_eval = 4.151954e-05
   Relative norm of the primal variables: 1.561885e-03
   Relative norm of the dual variables: 1.687164e-02
Iter 023:     Prox_TV: obj = 4.330111e+02, rel_obj = 9.913556e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.869217e+02, REL_OB, iter = 2
  f(x^*) = 1.722493e+03, rel_eval = 6.555696e-04
   Relative norm of the primal variables: 1.569935e-03
   Relative norm of the dual variables: 1.563350e-02
Iter 024:     Prox_TV: obj = 4.328134e+02, rel_obj = 6.610914e-04, TOL_EPS, iter = 12
  prox_L1: ||A x-y||_1 = 9.868768e+02, REL_OB, iter = 2
  f(x^*) = 1.722367e+03, rel_eval = 7.303128e-05
   Relative norm of the primal variables: 1.541792e-03
   Relative norm of the dual variables: 1.535737e-02
Iter 025:     Prox_TV: obj = 4.329339e+02, rel_obj = 9.902875e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.870660e+02, REL_OB, iter = 2
  f(x^*) = 1.723354e+03, rel_eval = 5.730257e-04
   Relative norm of the primal variables: 1.543797e-03
   Relative norm of the dual variables: 1.457005e-02
Iter 026:     Prox_TV: obj = 4.327831e+02, rel_obj = 6.685847e-04, TOL_EPS, iter = 12
  prox_L1: ||A x-y||_1 = 9.870190e+02, REL_OB, iter = 2
  f(x^*) = 1.723097e+03, rel_eval = 1.496491e-04
   Relative norm of the primal variables: 1.535553e-03
   Relative norm of the dual variables: 1.434896e-02
Iter 027:     Prox_TV: obj = 4.329416e+02, rel_obj = 9.908784e-04, TOL_EPS, iter = 11
  prox_L1: ||A x-y||_1 = 9.871862e+02, REL_OB, iter = 2
  f(x^*) = 1.723978e+03, rel_eval = 5.111213e-04
   Relative norm of the primal variables: 1.531613e-03
   Relative norm of the dual variables: 1.380157e-02
Iter 028:     Prox_TV: obj = 4.328160e+02, rel_obj = 6.754416e-04, TOL_EPS, iter = 12
  prox_L1: ||A x-y||_1 = 9.871285e+02, REL_OB, iter = 2
  f(x^*) = 1.723635e+03, rel_eval = 1.989487e-04
   Relative norm of the primal variables: 1.538617e-03
   Relative norm of the dual variables: 1.366919e-02
Iter 029:     Prox_TV: obj = 4.327103e+02, rel_obj = 6.531268e-04, TOL_EPS, iter = 12
  prox_L1: ||A x-y||_1 = 9.871143e+02, REL_OB, iter = 2
  f(x^*) = 1.723933e+03, rel_eval = 1.727294e-04
   Relative norm of the primal variables: 6.163558e-04
   Relative norm of the dual variables: 8.160365e-03
Iter 030:     Prox_TV: obj = 4.327786e+02, rel_obj = 6.317619e-04, TOL_EPS, iter = 12
  prox_L1: ||A x-y||_1 = 9.872219e+02, REL_OB, iter = 2
  f(x^*) = 1.724116e+03, rel_eval = 1.062645e-04
   Relative norm of the primal variables: 3.470667e-04
   Relative norm of the dual variables: 7.126209e-03

 FB_BASED_PRIMAL_DUAL:
  f(x^*) = 1.724116e+03, rel_eval = 1.062645e-04
   Relative norm of the primal variables: 3.470667e-04
   Relative norm of the dual variables: 7.126209e-03
 30 iterations
 Stopping criterion: MAX_IT
</pre>
</div>
<H2>References:</H2>



<p><a name="komodakis2014playing"></a>

N.&nbsp;Komodakis and J.-C. Pesquet.
 Playing with duality: An overview of recent primal-dual approaches
  for solving large-scale optimization problems.
 <em>arXiv preprint arXiv:1406.5429</em>, 2014.

</p>


                </div>
            </td>
            <td>
                <div id="sidebar">
                    <div class="span2-doc" id="codeswitch"><div id="menutitle"><a href="demo_fbb_primal_dual_code.html">View the code</a></div>
</div>
                    <br/>
                    <div id="seealso"><p></p></div>
                </div>
            </td>            
            </tr>
        </table>
    </div>
    <div id="footer">
        <div class="masthead include" file="../../include/bottom.html"></div>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="../../include/unlocbox.js" type="text/javascript"></script>

</body>
</html>
